import { ratings, ratingsfrom20 } from './'

describe('utils > ratings20To10', () => {
  it('halves 2-20 to 1-10', () => {
    const freq = {
      2: '1',
      3: '1',
      4: '1',
      5: '1',
      6: '1',
      7: '1',
      8: '1',
      9: '1',
      10: '1',
      11: '1',
      12: '1',
      13: '1',
      14: '1',
      15: '10',
      16: '1',
      17: '1',
      18: '46',
      19: '1',
      20: '1',
    }
    expect(ratingsfrom20(freq)).toEqual([
      [ 1, 1 ],
      [ 1.5, 1 ],
      [ 2, 1 ],
      [ 2.5, 1 ],
      [ 3, 1 ],
      [ 3.5, 1 ],
      [ 4, 1 ],
      [ 4.5, 1 ],
      [ 5, 1 ],
      [ 5.5, 1 ],
      [ 6, 1 ],
      [ 6.5, 1 ],
      [ 7, 1 ],
      [ 7.5, 10 ],
      [ 8, 1 ],
      [ 8.5, 1 ],
      [ 9, 46 ],
      [ 9.5, 1 ],
      [ 10, 1 ],
    ])
  })
})

describe('utils > ratings', () => {
  it('', () => {
    const freq = {
      2: '1',
      3: '107',
      4: '300',
      5: '1',
      6: '1',
      7: '1',
      8: '1',
      9: '1',
      10: '1',
      11: '1',
      12: '1',
      13: '1',
      14: '1',
      15: '1',
      16: '1',
      17: '10',
      18: '1',
      19: '1',
      20: '85',
    }
    expect(ratings(freq)).toEqual({
      mean: 3.44,
      usersRated: 517
    })
  })
})
